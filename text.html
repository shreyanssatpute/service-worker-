<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <style>
        /* Adjust body styles */
        body {
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0; /* Set background color */
        }

        /* Main container styles */
        main {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* QR code reader container styles */
        #reader {
            width: 400px;
            height: 400px;
            border-radius: 10px;
            border: 1px solid #ccc;
            margin: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background-color: #fff; /* Set background color */
        }

        /* Request Camera Permission button styles */
        #request-camera-button {
            background-color: blue;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            margin-bottom: 10px; /* Add margin at the bottom */
        }

        /* Result container styles */
        #result {
            text-align: center;
            font-size: 1.5rem;
            margin-top: 20px; /* Add margin for spacing */
        }

        /* Styling for the HTML5-QRCode button (camera permission) */
        #html5-qrcode-button-camera-permission {
            background-color: rgb(0, 57, 215);
            border: none;
            border-radius: 10px;
            color: white;
            min-height: 40px;
            min-width: 100px;
        }
    </style>
</head>
<body>
    <main>
        <!-- QR code reader container -->
        <div id="reader">
            <!-- Request Camera Permission button -->
            <button id="request-camera-button" class="btn btn-primary" type="submit">Request Camera Permission</button>
        </div>

       

        <!-- Result container -->
        <div id="result"></div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.4/html5-qrcode.min.js" ></script>

    <script>
        const scanner = new Html5QrcodeScanner('reader', {
            qrbox: {
                width: 300, // Initial width, can be changed
                height: 300, // Initial height, can be changed
            },
            fps: 20,
        });

        document.getElementById('request-camera-button').addEventListener('click', () => {
            scanner.start();
            
        });

        scanner.render(success, error);

        function success(result) {
            document.getElementById('result').innerHTML = `
            <h2>Success!</h2>
            <p><a href="${result}">${result}</a></p>
            `;

            scanner.clear();
            document.getElementById('reader').remove();
        }

        function error(err) {
            console.error(err);
        }
    </script>
</body>
</html>
